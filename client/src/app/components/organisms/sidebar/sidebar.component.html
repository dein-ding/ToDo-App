<div class="sidebar">
    <h2>
        Lists <i class="fad fa-clipboard-list-check"></i
        ><button class="btn btn-secondary btn-icon" style="float: right" (click)="createList()">
            <i class="fas fa-plus"></i>
        </button>
    </h2>
    <ul id="taskListsList" class="taskListsList">
        <h5 *ngIf="!this.data.lists.length" style="text-align: center">No lists...</h5>
        <li
            *ngFor="let list of this.data.lists; let i = index"
            (click)="setActiveList(list.id)"
            [class.active]="this.data.activeListId == list.id"
            [class.completed]="countOpenTasks(list.list) == 0 && list.list.length"
        >
            <span class="text">{{ list.name }}</span>
            <span *ngIf="countOpenTasks(list.list)" class="badge secondary-clr text-shadow" style="--text-clr: white">{{
                countOpenTasks(list.list)
            }}</span>

            <i *ngIf="this.data.activeListId == list.id" class="fas fa-chevron-right"></i>
            <loading-spinner *ngIf="isLoading == list.id && data.activeListId != list.id"></loading-spinner>
        </li>
    </ul>
    <div class="file-interaction">
        <button
            class="btn btn-secondary btn-icon download-btn"
            title="Download lists as JSON file"
            (click)="exportData()"
        >
            <i class="far fa-download"></i>
        </button>
        <label class="btn btn-secondary btn-icon upload-btn" title="Import lists from JSON file" style="padding: unset">
            <i class="fas fa-file-import"></i>
            <input
                id="importDataInput"
                style="display: none"
                type="file"
                accept="application/json"
                #fileInputRef
                (change)="importData(fileInputRef)"
            />
        </label>
    </div>
</div>
