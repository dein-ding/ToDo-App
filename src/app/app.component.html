<div class="container">
    <sidebar
        [data]="this.data"
        (onSetActiveList)="setActiveList($event)"
        (onCreateList)="createList()"
        (onExportData)="db.exportJson()"
        (onImportData)="db.importJson($event)"
    ></sidebar>
    <main>
        <h1 class="heading">
            {{ this.activeTaskList.name || "no list selected" }}
            <button
                class="btn btn-primary btn-icon"
                style="cursor: pointer; transform: translateY(-5px)"
                (click)="editList()"
            >
                <i class="fas fa-pencil-alt"></i>
            </button>
        </h1>
        <section class="new-task-form">
            <input
                type="text"
                placeholder="What shall it be?"
                id="nameInput"
                class="nameInput"
                #inputRef
                (keydown.Enter)="addTask()"
                (keydown.Escape)="clearTaskNameInput(inputRef)"
                [(ngModel)]="this.taskNameInput"
            />
            <button class="btn btn-primary btn-add" (click)="addTask()">add</button>
        </section>
        <section class="task-list">
            <ul>
                <h5 *ngIf="this.activeTaskList.list.length == 0" style="text-align: center">No tasks yet...</h5>
                <task
                    *ngFor="let task of this.activeTaskList.list"
                    [data]="task"
                    (onDataSensitiveAction)="db.save()"
                    (onDeleteTask)="deleteTask($event)"
                ></task>
            </ul>
        </section>
    </main>
</div>

<button (click)="modalService.open('test-modal')">open modal</button>
<button (click)="modalService.close('test-modal')">close modal</button>

<app-modal id="test-modal">
    <h1 class="test-class">test modal</h1>
    <hr />
    <!-- <app-edit-menu></app-edit-menu> -->
    <hr />
    <button (click)="modalService.close('test-modal')">close modal</button>
</app-modal>
